<!DOCTYPE html>
<html></html>
<head>
    <meta charset="UTF-8">
    <title>"My Rock Paper Scissors game</title>
</head>
<body>
    <script>
        
        function game(){
            //Initiates a game of rock paper scissors
            //starts by zeroing scores and intialising players moves at each new round
            //determines outcome at each round with roundResult
            //displays in console result using roundOutcomme
            //increments scores accordingly
            //on the last round displays final results using gameOutcome
            let playerScore =0;
            let computerScore =0;
            for (i=1;i<=5;i++){
                let playerSelection=prompt("Time to play, please choose between: rock, paper, scissors");
                let computerSelection=computerPlay();
                let roundResult=gameRound(playerSelection,computerSelection)
                switch(roundResult) {   
                    case 1: playerScore+=1
                            break;
                    case -1:computerScore+=1
                            break;
                }
                console.log(`****** Welcome to round ${i} ******`);
                console.log(roundOutcome(roundResult,playerSelection,computerSelection));
                console.log(`Current score: Player @ ${playerScore} VS Computer @ ${computerScore}`)
                console.log(` ****** End of round ******`)
            }

            return gameOutcome(playerScore,computerScore);
        }

        function computerPlay(){ 
            //Create a random integer between 0 and 2 included. 
            //If 0 return rock, if 1 return paper if 2 return scissors
            let randomOutcome=Math.floor(Math.random()*3)
            
            if (randomOutcome===0) {
                return "rock";
            }
            else if (randomOutcome===1) {
                return "paper";
            }
            else {
                return "scissors";
            }
        }

        function gameRound(playerSelection,computerSelection){
            //Determines the outcome of a round of rock, paper scissors. 
            //If user wins +1, if user looses -1, if draw 0
            playerSelection=playerSelection.toString().toLowerCase();
            if (playerSelection===computerSelection){
                return 0;
            }
            if ((playerSelection==="rock" && computerSelection==="scissors")||(playerSelection==="paper" && computerSelection==="rock")||(playerSelection==="scissors" && computerSelection==="papper")){
                return 1;
            }
            else {
                return -1;
            } 
        }


        function roundOutcome(gameRound,playerSelection,computerSelection){
            //Phrases the round outcome based on:
            //gameRound result and players input
            if (gameRound===1){
                return `You win, ${playerSelection} beat ${computerSelection}`;
            } 
            else if (gameRound===-1){
                return `You loose, ${computerSelection} beat ${playerSelection}`;
            }
            else {
                return `It's a draw, both of you played ${playerSelection}`;
            }
        }
        function gameOutcome(playerScore,computerScore){
            //Phrases game outcome after last based on players' scores
            if (playerScore===computerScore){
                return `It is a draw: HUM ${playerScore} - CPU ${computerScore}`;
            }
            else if (playerScore>computerScore){
                return `Player wins, the final score is: HUM ${playerScore} - CPU ${computerScore}`;
            }
            else {
                return `Computer wins, the final score is: HUM ${playerScore} - CPU ${computerScore}`;
            }
        }
    </script>
</body>